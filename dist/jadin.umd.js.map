{"version":3,"file":"jadin.umd.js","sources":["../src/Event.ts","../src/MidiReader.ts","../src/Note.ts","../src/Track.ts","../src/Cursor.ts","../src/Midi.ts"],"sourcesContent":["import Track from './Track';\nimport Note from './Note';\nimport Midi from './Midi';\n\nexport default class Event {\n  track?: Track;\n  type?: string|number;\n  subtype?: any;\n  text?: string|number;\n  port?: number;\n  data?: string;\n  tick?: number;\n  deltaTime?: number;\n  note?: Note;\n  number?: number;\n  tempo?: number;\n  frameRate?: number;\n  hours?: number;\n  minutes?: number;\n  seconds?: number;\n  frames?: number;\n  subframes?: number;\n  numerator?: number;\n  denominator?: number;\n  metronome?: number;\n  thirtySeconds?: number;\n  key?: number;\n  scale?: number;\n  velocity?: number;\n  channel?: number;\n  pressure?: number;\n  controller?: number;\n  value?: number;\n  program?: number;\n\n  constructor(){}\n\n  get midi(): Midi|null {\n    return this.track!.midi;\n  }\n\n  get second(): number|null {\n    return this.midi!.tickToSecond(this.tick!);\n  }\n}\n","import Event from './Event';\n\nexport default class MidiReader {\n  data: string;\n  position: number;\n  lastStatusByte!: number;\n\n  constructor(data: string) {\n    this.data = data;\n    this.position = 0;\n  }\n\n  read(length: number) {\n    const result = this.data.substr(this.position, length);\n    this.position += length;\n    return result;\n  }\n\n  readInt(numberOfBytes: number) {\n    let result = 0;\n\n    while(numberOfBytes > 0){\n      result <<= 8;\n      result += this.data.charCodeAt(this.position);\n      this.position += 1;\n      numberOfBytes -= 1;\n    }\n\n    return result;\n  }\n\n  readVLQ() {\n    let result = 0;\n    let octet;\n\n    do {\n      result <<= 7;\n      octet = this.readInt(1);\n      result += (octet & 0x7f);\n    } while (octet & 0x80)\n\n    return result;\n  }\n\n  readEvent() {\n    let event = new Event();\n    event.deltaTime = this.readVLQ();\n\n    const firstByte = this.readInt(1);\n    if(firstByte == 0xff){\n      event.type = 'meta';\n      const subtypeByte = this.readInt(1);\n      const length = this.readVLQ();\n      switch(subtypeByte){\n        case 0x00:\n          event.subtype = 'sequenceNumber';\n          if (length != 2) throw \"Length for this sequenceNumber event was \" + length + \", but must be 2\";\n          event.number = this.readInt(2);\n          return event;\n        case 0x01:\n          event.subtype = 'text';\n          event.text = this.read(length);\n          return event;\n        case 0x02:\n          event.subtype = 'copyright';\n          event.text = this.read(length);\n          return event;\n        case 0x03:\n          event.subtype = 'trackName';\n          event.text = this.read(length);\n          return event;\n        case 0x04:\n          event.subtype = 'instrumentName';\n          event.text = this.read(length);\n          return event;\n        case 0x05:\n          event.subtype = 'lyric';\n          event.text = this.read(length);\n          return event;\n        case 0x06:\n          event.subtype = 'marker';\n          event.text = this.read(length);\n          return event;\n        case 0x07:\n          event.subtype = 'cuePoint';\n          event.text = this.read(length);\n          return event;\n        case 0x08:\n          event.subtype = 'programName';\n          event.text = this.read(length);\n          return event;\n        case 0x09:\n          event.subtype = 'deviceName';\n          event.text = this.read(length);\n          return event;\n        case 0x20:\n          event.subtype = 'channelPrefix';\n          event.text = this.readInt(1);\n          if (length != 1) throw \"Length for this midiChannelPrefix event was \" + length + \", but must be 1\";\n          return event;\n        case 0x21:\n          event.subtype = 'port';\n          event.port = this.readInt(1);\n          if (length != 1) throw \"Length for this port event was \" + length + \", but must be 1\";\n          return event;\n        case 0x2f:\n          event.subtype = 'endOfTrack';\n          if (length != 0) throw \"Length for this endOfTrack event was \" + length + \", but must be 0\";\n          return event;\n        case 0x51:\n          event.subtype = 'setTempo';\n          if (length != 3) throw \"Length for this setTempo event was \" + length + \", but must be 3\";\n          event.tempo = this.readInt(3);\n          return event;\n        case 0x54:\n          event.subtype = 'smpteOffset';\n          if (length != 5) throw \"Length for this smpteOffset event was \" + length + \", but must be 5\";\n          const hourByte = this.readInt(1);\n          event.frameRate = ({0: 24, 1: 25, 2: 29.97, 3: 30} as any)[hourByte >> 6];\n          event.hours = hourByte & 0x1f;\n          event.minutes = this.readInt(1);\n          event.seconds = this.readInt(1);\n          event.frames = this.readInt(1);\n          event.subframes = this.readInt(1);\n          return event;\n        case 0x58:\n          event.subtype = 'timeSignature';\n          if (length != 4) throw \"Length for this timeSignature event was \" + length + \", but must be 4\";\n          event.numerator = this.readInt(1);\n          event.denominator = Math.pow(2, this.readInt(1));\n          event.metronome = this.readInt(1);\n          event.thirtySeconds = this.readInt(1);\n          return event;\n        case 0x59:\n          event.subtype = 'keySignature';\n          if (length != 2) throw \"Length for this keySignature event was \" + length + \", but must be 2\";\n          event.key = this.readInt(1);\n          if (event.key > 127) event.key = 128 - event.key;\n          event.scale = ({0: 'major', 1: 'minor'} as any)[this.readInt(1)];\n          return event;\n        case 0x7f:\n          event.subtype = 'sequencerSpecific';\n          event.data = this.read(length);\n          return event;\n      }\n    } else if(firstByte == 0xf0) {\n      event.type = 'sysEx';\n      const length = this.readVLQ();\n      event.data = this.read(length);\n      return event;\n    } else {\n      event.type = 'channel';\n      let statusByte, dataByte1;\n      if(firstByte < 0x80){ // running status; first byte is the first data byte\n        dataByte1 = firstByte;\n        statusByte = this.lastStatusByte; \n      } else { // new status; first byte is the status byte\n        dataByte1 = this.readInt(1);\n        statusByte = firstByte;\n        this.lastStatusByte = statusByte;\n      }\n\n      event.channel = statusByte & 0x0f;\n      const eventSubtype = statusByte >> 4;\n      switch(eventSubtype) {\n        case 0x8:\n          event.subtype = 'noteOff';\n          event.number = dataByte1;\n          event.velocity = this.readInt(1);\n          return event;\n        case 0x9:\n          event.number = dataByte1;\n          event.velocity = this.readInt(1);\n          event.subtype = (event.velocity==0 ? 'noteOff' : 'noteOn')\n          return event;\n        case 0xa:\n          event.subtype = 'aftertouch';\n          event.number = dataByte1;\n          event.pressure = this.readInt(1);\n          return event;\n        case 0xb:\n          event.subtype = 'controller';\n          event.controller = dataByte1;\n          event.value = this.readInt(1);\n          return event;\n        case 0xc:\n          event.subtype = 'program';\n          event.program = dataByte1;\n          return event;\n        case 0xd:\n          event.subtype = 'channelPressure';\n          event.pressure = dataByte1;\n          return event;\n        case 0xe:\n          event.subtype = 'pitchBend';\n          event.value = (this.readInt(1) << 7) + dataByte1\n          return event;\n      }    \n    }\n  }\n\n  readChunk(){\n    const type = this.read(4);\n    const length = this.readInt(4);\n    const data = this.read(length);\n\n    return {\n      type: type,\n      length: length,\n      data: data,\n    };\n  };\n\n  isAtEndOfFile(){\n    return this.position >= this.data.length;\n  };\n}\n","import Event from './Event';\nimport Track from './Track';\n\nexport default class Note {\n  onEvent: Event;\n  offEvent: Event;\n  track!: Track;\n\n  constructor(onEvent = new Event(), offEvent = new Event()) {\n    this.onEvent = onEvent;\n    this.offEvent = offEvent;\n    onEvent.note = this;\n    offEvent.note = this;\n  }\n\n  get onTick() {\n    return this.onEvent.tick;\n  }\n\n  set onTick(value) {\n    if (value! >= this.offTick) throw \"Cannot set onTick to be greater than or equal to offTick\"\n    this.onEvent.tick = value;\n  }\n\n  get offTick() {\n    return this.offEvent.tick!;\n  }\n\n  set offTick(value: number) {\n    if (value <= this.onTick!) throw \"Cannot set offTick to be less than or equal to onTick\"\n    this.offEvent.tick = value;\n  }\n\n  get midi() {\n    return this.track.midi; \n  }\n\n  get number() {\n    return this.onEvent.number;\n  }\n\n  set number(value) {\n    this.onEvent.number = value;\n    this.offEvent.number = value;\n  }\n\n  get onSecond() {\n    return this.onEvent.second;\n  }\n\n  get offSecond() {\n    return this.offEvent.second;\n  }\n\n  get duration() {\n    return this.offSecond! - this.onSecond!;  \n  }\n\n  onAt(second: number) {\n    return this.onSecond! <= second && second <= this.offSecond!;\n  }\n\n  onDuring(onSecond: number, offSecond: number) {\n    return this.onSecond! <= offSecond && this.offSecond! >= onSecond;  \n  }\n}\n","import MidiReader from './MidiReader';\nimport Note from './Note';\nimport Event from './Event';\nimport Midi from './Midi';\n\nexport default class Track {\n  events: Event[];\n  notes: Note[];\n  _noteOnEvents: {[key: number]: Event};\n  midi!: Midi;\n\n  constructor(data='') {\n    this.events = [];\n    this.notes = [];\n    this._noteOnEvents = {}\n\n    let reader = new MidiReader(data);\n    let currentTick = 0;\n    while (!reader.isAtEndOfFile()) {\n      const event = reader.readEvent()!;\n      currentTick += event.deltaTime!;\n      event!.tick  = currentTick;\n      this.addEvent(event);\n    }\n    // remove unpaired noteOn events\n    for(const number in this._noteOnEvents){\n      this.removeEvent(this._noteOnEvents[number]);\n    }\n  }\n\n  addEvent(event: Event){\n    event.track = this;\n    this.events.push(event);\n    switch(event.subtype){\n      case 'noteOn':\n        const invalidEvent = this._noteOnEvents[event.number!];\n        if(!!invalidEvent){ // previous noteOn event was invalid\n          this.removeEvent(invalidEvent);\n        }\n        this._noteOnEvents[event.number!] = event;\n        break;\n      case 'noteOff':\n        const noteOnEvent = this._noteOnEvents[event.number!];\n        if(!noteOnEvent || noteOnEvent.tick! >= event.tick!){\n          // this noteOff event is invalid - needs corresponding preceding noteOn event\n          this.removeEvent(event);\n        } else {\n          const note = new Note(noteOnEvent, event);\n          note.track = this;\n          this.notes.push(note);\n          delete this._noteOnEvents[event.number!];\n        }\n        break;\n    }\n  }\n\n  removeEvent(event: Event){\n    const index = this.events.lastIndexOf(event); // index will typically be near the end of the array\n    this.events.splice(index, 1)\n  }\n\n  get index() {\n    return this.midi.tracks.indexOf(this);\n  }\n\n  notesOnAt(second: number) {\n    return this.notes.filter(function(note){\n      return note.onAt(second);\n    });\n  }\n\n  notesOnDuring(onSecond: number, offSecond: number) {\n    return this.notes.filter(function(note){\n      return note.onDuring(onSecond, offSecond);\n    });\n  }\n}\n","import Event from './Event';\n\ninterface Callback {\n  (event: Event):  void;\n}\n\nexport default class Cursor {\n  events: Event[];\n  index: number;\n  second: number;\n\n  constructor(events: Event[]){\n    this.events = events;\n    this.index = 0;\n    this.second = 0;\n  }\n\n  get nextEvent(){\n    return this.events[this.index];\n  }\n\n  get previousEvent(){\n    return this.events[this.index-1];\n  }\n\n  forward(second: number, callbacks: {[key: string]: Callback} = {}){\n    this.second = second;\n\n    while(!!this.nextEvent && this.nextEvent.second! <= second){\n      if(!!callbacks[this.nextEvent.subtype!]){\n        callbacks[this.nextEvent.subtype](this.nextEvent);\n      }\n\n      this.index++;\n    }\n  }\n\n  backward(second: number, callbacks: {[key: string]: Callback} = {}){\n    this.second = second;\n\n    while(!!this.previousEvent && this.previousEvent.second! > second){\n      if(!!callbacks[this.previousEvent.subtype]){\n        callbacks[this.previousEvent.subtype](this.previousEvent);\n      }\n\n      this.index--;\n    }    \n  }\n}\n","import MidiReader from './MidiReader';\nimport Track from './Track';\nimport Cursor from './Cursor';\nimport Event from './Event';\nimport { Note } from './jadin';\n\nexport default class Midi {\n  format = 0;\n  ppqn = 480;\n  tracks: Track[] = [];\n  private _tickToSecond: {[key: number]: number} = {};\n  private _tempoEvents: Event[] = [];\n\n  constructor(data?: string) {\n    if(!!data){\n      const reader = new MidiReader(data);\n\n      const headerChunk = reader.readChunk();\n      const headerReader = new MidiReader(headerChunk.data);\n      this.format = headerReader.readInt(2);\n      if(this.format == 2) throw \"MIDI format 2 not supported\";\n      const numberOfTracks = headerReader.readInt(2);\n      this.ppqn = headerReader.readInt(2); // assumes metrical timing\n\n      for (let i = 0; i < numberOfTracks; i++) {\n        const trackChunk = reader.readChunk();\n        this.createTrack(trackChunk.data);\n      }\n    } else {\n      const tempoTrack = this.createTrack();\n    }\n  }\n\n  createTrack(data?: string) {\n    const track = new Track(data);\n    track.midi = this;\n    this.tracks.push(track);\n    return track;\n  }\n\n  newCursor() {\n    return new Cursor(this.events.sort(function(e1,e2){return e1.tick! - e2.tick!}));\n  }\n\n  get notes() {\n    return this.tracks\n      .map(function(track){return track.notes})\n      .reduce(function(a,b){return a.concat(b)});\n  }\n\n  get events() {\n    return this.tracks\n      .map(function(track){return track.events})\n      .reduce(function(a,b){return a.concat(b)});\n      //.sort(function(e1,e2){return e1.tick < e2.tick});\n  }\n\n  get tempoEvents() {\n    if(this._tempoEvents.length > 0) return this._tempoEvents; // return if memoized\n\n    // format 0: All events are on the zeroth track, including tempo events\n    // format 1: All tempo events are on the zeroth track\n    // format 2: Every track has tempo events (not supported)\n    return this._tempoEvents = this.tracks[0].events.filter(function(event){\n      return event.subtype == 'setTempo';\n    })\n  }\n\n  get duration() {\n    return this.notes\n      .map(function(note){return note.offSecond})\n      .reduce(function(a,b){return Math.max(a!, b!)}, 0)\n  }\n\n  tickToSecond(tick: number) {\n    if(this._tickToSecond[tick]) return this._tickToSecond[tick]\n\n    var currentTick = 0;\n    var currentTempo = 500000;\n    var totalTime = 0;\n    for (var i = 0; i < this.tempoEvents.length; i++) {\n      var event = this.tempoEvents[i];\n      if(event.tick! >= tick) break;\n      totalTime += ((event.tick! - currentTick) / this.ppqn) * currentTempo / 1000000.0;\n      currentTick = event.tick!;\n      currentTempo = event.tempo!;\n    }\n\n    totalTime += ((tick - currentTick) / this.ppqn) * currentTempo / 1000000.0;\n    return this._tickToSecond[tick] = totalTime;\n  }\n\n  notesOnAt(second: number): Note[] {\n    return this.tracks.map(track => track.notesOnAt(second)).flat();\n  }\n\n  notesOnDuring(onSecond: number, offSecond: number): Note[] {\n    return this.tracks.map(track => track.notesOnDuring(onSecond, offSecond)).flat();\n  }\n}\n"],"names":[],"mappings":"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"}